var jt=Object.create;var He=Object.defineProperty;var Wt=Object.getOwnPropertyDescriptor;var Dt=Object.getOwnPropertyNames;var Ht=Object.getPrototypeOf,Bt=Object.prototype.hasOwnProperty;var zt=(O,a)=>()=>(a||O((a={exports:{}}).exports,a),a.exports);var Kt=(O,a,o,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let g of Dt(a))!Bt.call(O,g)&&g!==o&&He(O,g,{get:()=>a[g],enumerable:!(f=Wt(a,g))||f.enumerable});return O};var Ut=(O,a,o)=>(o=O!=null?jt(Ht(O)):{},Kt(a||!O||!O.__esModule?He(o,"default",{value:O,enumerable:!0}):o,O));var Be=zt((Me,xe)=>{"use strict";(function(O,a){typeof Me=="object"&&typeof xe<"u"?xe.exports=a():typeof define=="function"&&define.amd?define(a):(O=typeof globalThis<"u"?globalThis:O||self,O.Fuse=a())})(Me,(function(){"use strict";function O(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function a(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?O(Object(e),!0).forEach(function(r){k(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function o(t){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o(t)}function f(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function g(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ke(r.key),r)}}function b(t,n,e){return n&&g(t.prototype,n),e&&g(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t,n,e){return n=ke(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function M(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&_(t,n)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(t)}function _(t,n){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_(t,n)}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(t)}function C(t){var n=T();return function(){var r=x(t),i;if(n){var s=x(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return R(this,i)}}function j(t){return ce(t)||Ke(t)||Ue(t)||Ge()}function ce(t){if(Array.isArray(t))return ue(t)}function Ke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ue(t,n){if(t){if(typeof t=="string")return ue(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ue(t,n)}}function ue(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(t,n){if(typeof t!="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var r=e.call(t,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function ke(t){var n=Ye(t,"string");return typeof n=="symbol"?n:String(n)}function K(t){return Array.isArray?Array.isArray(t):Le(t)==="[object Array]"}var Ve=1/0;function Qe(t){if(typeof t=="string")return t;var n=t+"";return n=="0"&&1/t==-Ve?"-0":n}function Je(t){return t==null?"":Qe(t)}function D(t){return typeof t=="string"}function be(t){return typeof t=="number"}function Xe(t){return t===!0||t===!1||Ze(t)&&Le(t)=="[object Boolean]"}function we(t){return o(t)==="object"}function Ze(t){return we(t)&&t!==null}function W(t){return t!=null}function he(t){return!t.trim().length}function Le(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var Gt="Extended search is not available",qe="Incorrect 'index' type",et=function(n){return"Invalid value for key ".concat(n)},tt=function(n){return"Pattern length exceeds max of ".concat(n,".")},nt=function(n){return"Missing ".concat(n," property in key")},rt=function(n){return"Property 'weight' in key '".concat(n,"' must be a positive integer")},Se=Object.prototype.hasOwnProperty,it=(function(){function t(n){var e=this;f(this,t),this._keys=[],this._keyMap={};var r=0;n.forEach(function(i){var s=Ee(i);e._keys.push(s),e._keyMap[s.id]=s,r+=s.weight}),this._keys.forEach(function(i){i.weight/=r})}return b(t,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),t})();function Ee(t){var n=null,e=null,r=null,i=1,s=null;if(D(t)||K(t))r=t,n=Ie(t),e=le(t);else{if(!Se.call(t,"name"))throw new Error(nt("name"));var u=t.name;if(r=u,Se.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(rt(u));n=Ie(u),e=le(u),s=t.getFn}return{path:n,id:e,weight:i,src:r,getFn:s}}function Ie(t){return K(t)?t:t.split(".")}function le(t){return K(t)?t.join("."):t}function st(t,n){var e=[],r=!1,i=function s(u,c,h){if(W(u))if(!c[h])e.push(u);else{var d=c[h],l=u[d];if(!W(l))return;if(h===c.length-1&&(D(l)||be(l)||Xe(l)))e.push(Je(l));else if(K(l)){r=!0;for(var p=0,v=l.length;p<v;p+=1)s(l[p],c,h+1)}else c.length&&s(l,c,h+1)}};return i(t,D(n)?n.split("."):n,0),r?e:e[0]}var at={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ot={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(n,e){return n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1}},ct={location:0,threshold:.6,distance:100},ut={useExtendedSearch:!1,getFn:st,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},m=a(a(a(a({},ot),at),ct),ut),ht=/[^ ]+/g;function lt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,e=new Map,r=Math.pow(10,n);return{get:function(s){var u=s.match(ht).length;if(e.has(u))return e.get(u);var c=1/Math.pow(u,.5*t),h=parseFloat(Math.round(c*r)/r);return e.set(u,h),h},clear:function(){e.clear()}}}var fe=(function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getFn,r=e===void 0?m.getFn:e,i=n.fieldNormWeight,s=i===void 0?m.fieldNormWeight:i;f(this,t),this.norm=lt(s,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return b(t,[{key:"setSources",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=r,this._keysMap={},r.forEach(function(i,s){e._keysMap[i.id]=s})}},{key:"create",value:function(){var e=this;this.isCreated||!this.docs.length||(this.isCreated=!0,D(this.docs[0])?this.docs.forEach(function(r,i){e._addString(r,i)}):this.docs.forEach(function(r,i){e._addObject(r,i)}),this.norm.clear())}},{key:"add",value:function(e){var r=this.size();D(e)?this._addString(e,r):this._addObject(e,r)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var r=e,i=this.size();r<i;r+=1)this.records[r].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,r){return e[this._keysMap[r]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,r){if(!(!W(e)||he(e))){var i={v:e,i:r,n:this.norm.get(e)};this.records.push(i)}}},{key:"_addObject",value:function(e,r){var i=this,s={i:r,$:{}};this.keys.forEach(function(u,c){var h=u.getFn?u.getFn(e):i.getFn(e,u.path);if(W(h)){if(K(h)){for(var d=[],l=[{nestedArrIndex:-1,value:h}];l.length;){var p=l.pop(),v=p.nestedArrIndex,y=p.value;if(W(y))if(D(y)&&!he(y)){var w={v:y,i:v,n:i.norm.get(y)};d.push(w)}else K(y)&&y.forEach(function(S,I){l.push({nestedArrIndex:I,value:S})})}s.$[c]=d}else if(D(h)&&!he(h)){var E={v:h,n:i.norm.get(h)};s.$[c]=E}}}),this.records.push(s)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),t})();function Ae(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.getFn,i=r===void 0?m.getFn:r,s=e.fieldNormWeight,u=s===void 0?m.fieldNormWeight:s,c=new fe({getFn:i,fieldNormWeight:u});return c.setKeys(t.map(Ee)),c.setSources(n),c.create(),c}function ft(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.getFn,r=e===void 0?m.getFn:e,i=n.fieldNormWeight,s=i===void 0?m.fieldNormWeight:i,u=t.keys,c=t.records,h=new fe({getFn:r,fieldNormWeight:s});return h.setKeys(u),h.setIndexRecords(c),h}function te(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.errors,r=e===void 0?0:e,i=n.currentLocation,s=i===void 0?0:i,u=n.expectedLocation,c=u===void 0?0:u,h=n.distance,d=h===void 0?m.distance:h,l=n.ignoreLocation,p=l===void 0?m.ignoreLocation:l,v=r/t.length;if(p)return v;var y=Math.abs(c-s);return d?v+y/d:y?1:v}function dt(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.minMatchCharLength,e=[],r=-1,i=-1,s=0,u=t.length;s<u;s+=1){var c=t[s];c&&r===-1?r=s:!c&&r!==-1&&(i=s-1,i-r+1>=n&&e.push([r,i]),r=-1)}return t[s-1]&&s-r>=n&&e.push([r,s-1]),e}var Y=32;function gt(t,n,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.location,s=i===void 0?m.location:i,u=r.distance,c=u===void 0?m.distance:u,h=r.threshold,d=h===void 0?m.threshold:h,l=r.findAllMatches,p=l===void 0?m.findAllMatches:l,v=r.minMatchCharLength,y=v===void 0?m.minMatchCharLength:v,w=r.includeMatches,E=w===void 0?m.includeMatches:w,S=r.ignoreLocation,I=S===void 0?m.ignoreLocation:S;if(n.length>Y)throw new Error(tt(Y));for(var $=n.length,F=t.length,A=Math.max(0,Math.min(s,F)),N=d,P=A,H=y>1||E,V=H?Array(F):[],B;(B=t.indexOf(n,P))>-1;){var Pe=te(n,{currentLocation:B,expectedLocation:A,distance:c,ignoreLocation:I});if(N=Math.min(Pe,N),P=B+$,H)for(var X=0;X<$;)V[B+X]=1,X+=1}P=-1;for(var Z=[],ie=1,se=$+F,Nt=1<<$-1,Q=0;Q<$;Q+=1){for(var ae=0,G=se;ae<G;){var Ft=te(n,{errors:Q,currentLocation:A+G,expectedLocation:A,distance:c,ignoreLocation:I});Ft<=N?ae=G:se=G,G=Math.floor((se-ae)/2+ae)}se=G;var je=Math.max(1,A-G+1),me=p?F:Math.min(A+G,F)+$,q=Array(me+2);q[me+1]=(1<<Q)-1;for(var z=me;z>=je;z-=1){var oe=z-1,We=e[t.charAt(oe)];if(H&&(V[oe]=+!!We),q[z]=(q[z+1]<<1|1)&We,Q&&(q[z]|=(Z[z+1]|Z[z])<<1|1|Z[z+1]),q[z]&Nt&&(ie=te(n,{errors:Q,currentLocation:oe,expectedLocation:A,distance:c,ignoreLocation:I}),ie<=N)){if(N=ie,P=oe,P<=A)break;je=Math.max(1,2*A-P)}}var Pt=te(n,{errors:Q+1,currentLocation:A,expectedLocation:A,distance:c,ignoreLocation:I});if(Pt>N)break;Z=q}var ye={isMatch:P>=0,score:Math.max(.001,ie)};if(H){var De=dt(V,y);De.length?E&&(ye.indices=De):ye.isMatch=!1}return ye}function vt(t){for(var n={},e=0,r=t.length;e<r;e+=1){var i=t.charAt(e);n[i]=(n[i]||0)|1<<r-e-1}return n}var $e=(function(){function t(n){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.location,s=i===void 0?m.location:i,u=r.threshold,c=u===void 0?m.threshold:u,h=r.distance,d=h===void 0?m.distance:h,l=r.includeMatches,p=l===void 0?m.includeMatches:l,v=r.findAllMatches,y=v===void 0?m.findAllMatches:v,w=r.minMatchCharLength,E=w===void 0?m.minMatchCharLength:w,S=r.isCaseSensitive,I=S===void 0?m.isCaseSensitive:S,$=r.ignoreLocation,F=$===void 0?m.ignoreLocation:$;if(f(this,t),this.options={location:s,threshold:c,distance:d,includeMatches:p,findAllMatches:y,minMatchCharLength:E,isCaseSensitive:I,ignoreLocation:F},this.pattern=I?n:n.toLowerCase(),this.chunks=[],!!this.pattern.length){var A=function(X,Z){e.chunks.push({pattern:X,alphabet:vt(X),startIndex:Z})},N=this.pattern.length;if(N>Y){for(var P=0,H=N%Y,V=N-H;P<V;)A(this.pattern.substr(P,Y),P),P+=Y;if(H){var B=N-Y;A(this.pattern.substr(B),B)}}else A(this.pattern,0)}}return b(t,[{key:"searchIn",value:function(e){var r=this.options,i=r.isCaseSensitive,s=r.includeMatches;if(i||(e=e.toLowerCase()),this.pattern===e){var u={isMatch:!0,score:0};return s&&(u.indices=[[0,e.length-1]]),u}var c=this.options,h=c.location,d=c.distance,l=c.threshold,p=c.findAllMatches,v=c.minMatchCharLength,y=c.ignoreLocation,w=[],E=0,S=!1;this.chunks.forEach(function($){var F=$.pattern,A=$.alphabet,N=$.startIndex,P=gt(e,F,A,{location:h+N,distance:d,threshold:l,findAllMatches:p,minMatchCharLength:v,includeMatches:s,ignoreLocation:y}),H=P.isMatch,V=P.score,B=P.indices;H&&(S=!0),E+=V,H&&B&&(w=[].concat(j(w),j(B)))});var I={isMatch:S,score:S?E/this.chunks.length:1};return S&&s&&(I.indices=w),I}}]),t})(),U=(function(){function t(n){f(this,t),this.pattern=n}return b(t,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return Ce(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return Ce(e,this.singleRegex)}}]),t})();function Ce(t,n){var e=t.match(n);return e?e[1]:null}var pt=(function(t){M(e,t);var n=C(e);function e(r){return f(this,e),n.call(this,r)}return b(e,[{key:"search",value:function(i){var s=i===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),e})(U),mt=(function(t){M(e,t);var n=C(e);function e(r){return f(this,e),n.call(this,r)}return b(e,[{key:"search",value:function(i){var s=i.indexOf(this.pattern),u=s===-1;return{isMatch:u,score:u?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),e})(U),yt=(function(t){M(e,t);var n=C(e);function e(r){return f(this,e),n.call(this,r)}return b(e,[{key:"search",value:function(i){var s=i.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),e})(U),Mt=(function(t){M(e,t);var n=C(e);function e(r){return f(this,e),n.call(this,r)}return b(e,[{key:"search",value:function(i){var s=!i.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),e})(U),xt=(function(t){M(e,t);var n=C(e);function e(r){return f(this,e),n.call(this,r)}return b(e,[{key:"search",value:function(i){var s=i.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),e})(U),_t=(function(t){M(e,t);var n=C(e);function e(r){return f(this,e),n.call(this,r)}return b(e,[{key:"search",value:function(i){var s=!i.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),e})(U),Oe=(function(t){M(e,t);var n=C(e);function e(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.location,c=u===void 0?m.location:u,h=s.threshold,d=h===void 0?m.threshold:h,l=s.distance,p=l===void 0?m.distance:l,v=s.includeMatches,y=v===void 0?m.includeMatches:v,w=s.findAllMatches,E=w===void 0?m.findAllMatches:w,S=s.minMatchCharLength,I=S===void 0?m.minMatchCharLength:S,$=s.isCaseSensitive,F=$===void 0?m.isCaseSensitive:$,A=s.ignoreLocation,N=A===void 0?m.ignoreLocation:A;return f(this,e),i=n.call(this,r),i._bitapSearch=new $e(r,{location:c,threshold:d,distance:p,includeMatches:y,findAllMatches:E,minMatchCharLength:I,isCaseSensitive:F,ignoreLocation:N}),i}return b(e,[{key:"search",value:function(i){return this._bitapSearch.searchIn(i)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),e})(U),Te=(function(t){M(e,t);var n=C(e);function e(r){return f(this,e),n.call(this,r)}return b(e,[{key:"search",value:function(i){for(var s=0,u,c=[],h=this.pattern.length;(u=i.indexOf(this.pattern,s))>-1;)s=u+h,c.push([u,s-1]);var d=!!c.length;return{isMatch:d,score:d?0:1,indices:c}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),e})(U),de=[pt,Te,yt,Mt,_t,xt,mt,Oe],Re=de.length,kt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,bt="|";function wt(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.split(bt).map(function(e){for(var r=e.trim().split(kt).filter(function(w){return w&&!!w.trim()}),i=[],s=0,u=r.length;s<u;s+=1){for(var c=r[s],h=!1,d=-1;!h&&++d<Re;){var l=de[d],p=l.isMultiMatch(c);p&&(i.push(new l(p,n)),h=!0)}if(!h)for(d=-1;++d<Re;){var v=de[d],y=v.isSingleMatch(c);if(y){i.push(new v(y,n));break}}}return i})}var Lt=new Set([Oe.type,Te.type]),St=(function(){function t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.isCaseSensitive,i=r===void 0?m.isCaseSensitive:r,s=e.includeMatches,u=s===void 0?m.includeMatches:s,c=e.minMatchCharLength,h=c===void 0?m.minMatchCharLength:c,d=e.ignoreLocation,l=d===void 0?m.ignoreLocation:d,p=e.findAllMatches,v=p===void 0?m.findAllMatches:p,y=e.location,w=y===void 0?m.location:y,E=e.threshold,S=E===void 0?m.threshold:E,I=e.distance,$=I===void 0?m.distance:I;f(this,t),this.query=null,this.options={isCaseSensitive:i,includeMatches:u,minMatchCharLength:h,findAllMatches:v,ignoreLocation:l,location:w,threshold:S,distance:$},this.pattern=i?n:n.toLowerCase(),this.query=wt(this.pattern,this.options)}return b(t,[{key:"searchIn",value:function(e){var r=this.query;if(!r)return{isMatch:!1,score:1};var i=this.options,s=i.includeMatches,u=i.isCaseSensitive;e=u?e:e.toLowerCase();for(var c=0,h=[],d=0,l=0,p=r.length;l<p;l+=1){var v=r[l];h.length=0,c=0;for(var y=0,w=v.length;y<w;y+=1){var E=v[y],S=E.search(e),I=S.isMatch,$=S.indices,F=S.score;if(I){if(c+=1,d+=F,s){var A=E.constructor.type;Lt.has(A)?h=[].concat(j(h),j($)):h.push($)}}else{d=0,c=0,h.length=0;break}}if(c){var N={isMatch:!0,score:d/c};return s&&(N.indices=h),N}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,r){return r.useExtendedSearch}}]),t})(),ne=[];function Et(){ne.push.apply(ne,arguments)}function ge(t,n){for(var e=0,r=ne.length;e<r;e+=1){var i=ne[e];if(i.condition(t,n))return new i(t,n)}return new $e(t,n)}var re={AND:"$and",OR:"$or"},ve={PATH:"$path",PATTERN:"$val"},pe=function(n){return!!(n[re.AND]||n[re.OR])},It=function(n){return!!n[ve.PATH]},At=function(n){return!K(n)&&we(n)&&!pe(n)},Ne=function(n){return k({},re.AND,Object.keys(n).map(function(e){return k({},e,n[e])}))};function Fe(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.auto,i=r===void 0?!0:r,s=function u(c){var h=Object.keys(c),d=It(c);if(!d&&h.length>1&&!pe(c))return u(Ne(c));if(At(c)){var l=d?c[ve.PATH]:h[0],p=d?c[ve.PATTERN]:c[l];if(!D(p))throw new Error(et(l));var v={keyId:le(l),pattern:p};return i&&(v.searcher=ge(p,n)),v}var y={children:[],operator:h[0]};return h.forEach(function(w){var E=c[w];K(E)&&E.forEach(function(S){y.children.push(u(S))})}),y};return pe(t)||(t=Ne(t)),s(t)}function $t(t,n){var e=n.ignoreFieldNorm,r=e===void 0?m.ignoreFieldNorm:e;t.forEach(function(i){var s=1;i.matches.forEach(function(u){var c=u.key,h=u.norm,d=u.score,l=c?c.weight:null;s*=Math.pow(d===0&&l?Number.EPSILON:d,(l||1)*(r?1:h))}),i.score=s})}function Ct(t,n){var e=t.matches;n.matches=[],W(e)&&e.forEach(function(r){if(!(!W(r.indices)||!r.indices.length)){var i=r.indices,s=r.value,u={indices:i,value:s};r.key&&(u.key=r.key.src),r.idx>-1&&(u.refIndex=r.idx),n.matches.push(u)}})}function Ot(t,n){n.score=t.score}function Tt(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.includeMatches,i=r===void 0?m.includeMatches:r,s=e.includeScore,u=s===void 0?m.includeScore:s,c=[];return i&&c.push(Ct),u&&c.push(Ot),t.map(function(h){var d=h.idx,l={item:n[d],refIndex:d};return c.length&&c.forEach(function(p){p(h,l)}),l})}var J=(function(){function t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;f(this,t),this.options=a(a({},m),e),this.options.useExtendedSearch,this._keyStore=new it(this.options.keys),this.setCollection(n,r)}return b(t,[{key:"setCollection",value:function(e,r){if(this._docs=e,r&&!(r instanceof fe))throw new Error(qe);this._myIndex=r||Ae(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){W(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},r=[],i=0,s=this._docs.length;i<s;i+=1){var u=this._docs[i];e(u,i)&&(this.removeAt(i),i-=1,s-=1,r.push(u))}return r}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.limit,s=i===void 0?-1:i,u=this.options,c=u.includeMatches,h=u.includeScore,d=u.shouldSort,l=u.sortFn,p=u.ignoreFieldNorm,v=D(e)?D(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return $t(v,{ignoreFieldNorm:p}),d&&v.sort(l),be(s)&&s>-1&&(v=v.slice(0,s)),Tt(v,this._docs,{includeMatches:c,includeScore:h})}},{key:"_searchStringList",value:function(e){var r=ge(e,this.options),i=this._myIndex.records,s=[];return i.forEach(function(u){var c=u.v,h=u.i,d=u.n;if(W(c)){var l=r.searchIn(c),p=l.isMatch,v=l.score,y=l.indices;p&&s.push({item:c,idx:h,matches:[{score:v,value:c,norm:d,indices:y}]})}}),s}},{key:"_searchLogical",value:function(e){var r=this,i=Fe(e,this.options),s=function d(l,p,v){if(!l.children){var y=l.keyId,w=l.searcher,E=r._findMatches({key:r._keyStore.get(y),value:r._myIndex.getValueForItemAtKeyId(p,y),searcher:w});return E&&E.length?[{idx:v,item:p,matches:E}]:[]}for(var S=[],I=0,$=l.children.length;I<$;I+=1){var F=l.children[I],A=d(F,p,v);if(A.length)S.push.apply(S,j(A));else if(l.operator===re.AND)return[]}return S},u=this._myIndex.records,c={},h=[];return u.forEach(function(d){var l=d.$,p=d.i;if(W(l)){var v=s(i,l,p);v.length&&(c[p]||(c[p]={idx:p,item:l,matches:[]},h.push(c[p])),v.forEach(function(y){var w,E=y.matches;(w=c[p].matches).push.apply(w,j(E))}))}}),h}},{key:"_searchObjectList",value:function(e){var r=this,i=ge(e,this.options),s=this._myIndex,u=s.keys,c=s.records,h=[];return c.forEach(function(d){var l=d.$,p=d.i;if(W(l)){var v=[];u.forEach(function(y,w){v.push.apply(v,j(r._findMatches({key:y,value:l[w],searcher:i})))}),v.length&&h.push({idx:p,item:l,matches:v})}}),h}},{key:"_findMatches",value:function(e){var r=e.key,i=e.value,s=e.searcher;if(!W(i))return[];var u=[];if(K(i))i.forEach(function(y){var w=y.v,E=y.i,S=y.n;if(W(w)){var I=s.searchIn(w),$=I.isMatch,F=I.score,A=I.indices;$&&u.push({score:F,key:r,value:w,idx:E,norm:S,indices:A})}});else{var c=i.v,h=i.n,d=s.searchIn(c),l=d.isMatch,p=d.score,v=d.indices;l&&u.push({score:p,key:r,value:c,norm:h,indices:v})}return u}}]),t})();J.version="7.0.0",J.createIndex=Ae,J.parseIndex=ft,J.config=m,J.parseQuery=Fe,Et(St);var Rt=J;return Rt}))});var ze=Ut(Be()),ee=class{constructor(a,o=ze.default,f={}){this.searchData=a,this.Fuse=o,this.config={phoneticMap:{},semanticMap:{},stopWords:[],entityDefinitions:{},intentRules:[],...f},this.history={lastCategory:null,detectedEntities:new Set},this.initFuse()}initFuse(){this.Fuse&&(this.fuse=new this.Fuse(this.searchData,{keys:[{name:"title",weight:.8},{name:"keywords",weight:.5},{name:"description",weight:.2}],threshold:.45,includeScore:!0,useExtendedSearch:!0}))}autoCorrect(a){if(!this.config.phoneticMap)return a;for(let[o,f]of Object.entries(this.config.phoneticMap))if(f.includes(a))return o;return a}preprocess(a){let o={isQuestion:a.includes("?"),isUrgent:a.includes("!")},f=new Set(this.config.stopWords||[]),k=a.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(L=>L.length>1).map(L=>this.autoCorrect(L)),M=k.map(L=>this.stemIndonesian(L)),_=[...new Set([...k,...M])].filter(L=>!f.has(L)),T=[];return _.forEach(L=>{this.config.semanticMap&&this.config.semanticMap[L]&&T.push(...this.config.semanticMap[L]);let R=this.stemIndonesian(L);R!==L&&this.config.semanticMap&&this.config.semanticMap[R]&&T.push(...this.config.semanticMap[R])}),{tokens:_,expanded:[...new Set([..._,...T])],entities:this.extractEntities(_),signals:o}}extractEntities(a){let o={};if(this.config.entityDefinitions)for(let[f,g]of Object.entries(this.config.entityDefinitions)){let b=a.some(k=>g.includes(k));o[f]=b,b&&this.history.detectedEntities.add(f)}return o}async search(a){if(this.config.searchMode==="remote"&&this.config.apiUrl)try{let _=Array.isArray(this.config.apiUrl)?this.config.apiUrl:[this.config.apiUrl],L=(await Promise.all(_.map(async R=>{try{return await(await fetch(`${R}?q=${encodeURIComponent(a)}`,{headers:this.config.apiHeaders||{}})).json()}catch(C){return console.error(`Remote fetch failed for ${R}:`,C),{results:[],intent:"fuzzy",entities:{}}}}))).reduce((R,C)=>(R.results.push(...C.results||[]),C.intent&&C.intent!=="fuzzy"&&(R.intent=C.intent),R.entities={...R.entities,...C.entities||{}},R),{results:[],intent:"fuzzy",entities:{},confidence:0});if(L.results.length>0){let R=this.preprocess(a),C=L.results.map(j=>({item:j,score:this.calculateScore(j,R,.5)})).sort((j,ce)=>ce.score-j.score);return{...L,results:C.map(j=>j.item).slice(0,5),confidence:Math.min(Math.round(C[0].score*2),100)}}}catch(_){console.error("Remote search orchestration failed, falling back to local:",_)}let o=this.preprocess(a),f=[];this.fuse&&(f=this.fuse.search(o.expanded.join(" | ")).map(T=>({item:T.item,fuseScore:T.score})));let g=f.map(_=>{let T=this.calculateScore(_.item,o,_.fuseScore);return{item:_.item,score:T}});g.sort((_,T)=>T.score-_.score),g.length>0&&(this.history.lastCategory=g[0].item.category);let b=this.detectIntent(o),k=b.startsWith("chat_"),M="";b==="chat_greeting"?M=this.config.fallbackIntentResponses?.chat_greeting||"Halo! Ada yang bisa saya bantu hari ini? Anda bisa tanya tentang produk, harga, atau promo kami.":b==="chat_thanks"&&(M=this.config.fallbackIntentResponses?.chat_thanks||"Sama-sama! Senang bisa membantu. Ada lagi yang ingin ditanyakan?");let x=g.filter(_=>_.score>10||k&&_.score>5).map(_=>_.item).slice(0,5);return{results:x,intent:b,entities:o.entities,confidence:g.length>0?Math.min(Math.round(g[0].score*2),100):k?80:0,answer:M||x[0]?.answer||""}}calculateDiceCoefficient(a,o){let f=M=>{let x=new Set;for(let _=0;_<M.length-1;_++)x.add(M.substring(_,_+2));return x};if(a===o)return 1;if(a.length<2||o.length<2)return 0;let g=f(a),b=f(o),k=0;for(let M of g)b.has(M)&&k++;return 2*k/(g.size+b.size)}stemIndonesian(a){let o=a.toLowerCase(),f=["lah","kah","pun","ku","mu","nya"];for(let k of f)if(o.endsWith(k)&&o.length>k.length+3){o=o.slice(0,-k.length);break}let g=["kan","an","i"];for(let k of g)if(o.endsWith(k)&&o.length>k.length+3){if(k==="i"&&o.endsWith("ti"))continue;o=o.slice(0,-k.length);break}let b=["memper","pember","penge","peng","peny","pen","pem","per","pe","ber","be","ter","te","me","di","ke","se"];for(let k of b)if(o.startsWith(k)&&o.length>k.length+3){k==="mem"&&"aiueo".includes(o[3])?o="p"+o.slice(3):k==="men"&&"aiueo".includes(o[3])?o="t"+o.slice(3):k==="meng"&&"aiueo".includes(o[4])?o="k"+o.slice(4):k==="meny"&&"aiueo".includes(o[4])?o="s"+o.slice(4):o=o.slice(k.length);break}return o}calculateScore(a,o,f){let g=(1-f)*10,b=a.title.toLowerCase(),k=a.description.toLowerCase(),M=(a.keywords||[]).map(L=>L.toLowerCase()),x=b+" "+M.join(" ")+" "+k;o.tokens.forEach((L,R)=>{x.includes(L)&&(g+=10,R>0&&x.includes(o.tokens[R-1]+" "+L)&&(g+=8));let C=this.calculateDiceCoefficient(L,b);C>.4&&(g+=C*15)}),o.tokens.forEach(L=>{b.includes(L)&&(g+=20),a.category.toLowerCase().includes(L)&&(g+=25),M.includes(L)&&(g+=15)});let _=this.calculateDiceCoefficient(o.tokens.join(""),b.replace(/\s/g,""));return _>.3&&(g+=_*40),this.history.lastCategory===a.category&&(g+=10),a.is_recommended&&(g+=25),o.signals?.isQuestion&&(a.answer&&(g+=15),(a.category.toLowerCase().includes("layanan")||a.category.toLowerCase().includes("syarat"))&&(g+=5)),o.signals?.isUrgent&&(g+=10),this.detectIntent(o).startsWith("sales_")&&((a.price_numeric||a.sale_price)&&(g+=30),a.badge_text&&(g+=15),(a.category.toLowerCase().includes("produk")||a.category.toLowerCase().includes("layanan"))&&(g+=20)),g}detectIntent(a){let f={...{beli:["beli","pesan","ambil","order","checkout","booking","buy","purchase","get"],harga:["harga","biaya","price","budget","bayar","cicilan","dp","murah","cost","payment","cheap"],promo:["promo","diskon","discount","sale","hemat","bonus","voucher","off"]},...this.config.salesTriggers||{}},g=a.tokens.map(M=>this.stemIndonesian(M));for(let[M,x]of Object.entries(f))if(x.some(_=>g.includes(_)||a.tokens.includes(_)))return`sales_${M}`;let k={...{greeting:["halo","halo","hi","helo","hey","pagi","siang","sore","malam","assalamualaikum","permisi","hello"],thanks:["terima kasih","thanks","tq","syukron","makasih","oke","sip","mantap"]},...this.config.conversationTriggers||{}};for(let[M,x]of Object.entries(k))if(x.some(_=>g.includes(_)||a.tokens.includes(_)))return`chat_${M}`;if(!this.config.intentRules)return"fuzzy";for(let M of this.config.intentRules){let x=!M.conditions.entities||M.conditions.entities.some(T=>a.entities[T]),_=!M.conditions.tokens||M.conditions.tokens.some(T=>a.tokens.includes(T)||g.includes(T));if(x&&_)return M.intent}return"fuzzy"}};var _e=class{constructor(a,o=void 0,f={},g={}){this.elements={};this.chatHistory=[];this.interactionCount=0;this.engine=new ee(a,o,g),this.selectors=f,this.config=g,this.initElements(),this.initEventListeners(),this.loadHistory()}initElements(){this.elements.overlay=document.getElementById(this.selectors.overlayId),this.elements.input=document.getElementById(this.selectors.inputId),this.elements.sendBtn=document.getElementById(this.selectors.sendBtnId),this.elements.closeBtn=document.getElementById(this.selectors.closeBtnId),this.elements.chatContainer=document.getElementById(this.selectors.chatContainerId),this.elements.messagesList=document.getElementById(this.selectors.messagesListId),this.elements.typingIndicator=document.getElementById(this.selectors.typingIndicatorId),this.elements.welcomeMsg=document.querySelector(`.${this.selectors.welcomeMsgClass}`)}initEventListeners(){let a=this.elements.input;a&&a.addEventListener("keydown",o=>{o.key==="Enter"&&this.performAction()}),this.elements.sendBtn&&this.elements.sendBtn.addEventListener("click",()=>this.performAction()),this.elements.closeBtn&&this.elements.closeBtn.addEventListener("click",()=>this.closeAssistant()),document.querySelectorAll(`.${this.selectors.quickLinksClass}`).forEach(o=>{let f=o;f.addEventListener("click",()=>{a&&f.dataset.query&&(a.value=f.dataset.query,this.performAction())})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&this.elements.overlay&&!this.elements.overlay.classList.contains("hidden")&&this.closeAssistant(),(o.metaKey||o.ctrlKey)&&o.key==="k"&&(o.preventDefault(),this.openAssistant())}),this.elements.overlay&&this.elements.overlay.addEventListener("click",o=>{o.target===this.elements.overlay&&this.closeAssistant()})}openAssistant(){let a=this.elements.overlay,o=this.elements.input;!a||!o||(a.classList.remove("hidden"),setTimeout(()=>{a.classList.remove("opacity-0"),o.focus(),this.elements.welcomeMsg&&this.elements.welcomeMsg.classList.remove("opacity-0","translate-y-4")},10),document.body.style.overflow="hidden")}closeAssistant(){let a=this.elements.overlay,o=this.elements.input;!a||!o||(a.classList.add("opacity-0"),setTimeout(()=>{a.classList.add("hidden"),o.value=""},300),document.body.style.overflow="")}performAction(){let a=this.elements.input;if(!a)return;let o=a.value;o.trim()&&(a.value="",this.addUserMessage(o),this.showTyping(),setTimeout(async()=>{this.hideTyping();let f=await this.engine.search(o);this.addAssistantMessage(o,f)},1e3))}showTyping(){let a=this.elements.typingIndicator;a&&(a.classList.remove("hidden"),setTimeout(()=>a.classList.remove("opacity-0"),10),this.scrollToBottom())}hideTyping(){let a=this.elements.typingIndicator;a&&(a.classList.add("opacity-0"),setTimeout(()=>a.classList.add("hidden"),300))}scrollToBottom(){let a=this.elements.chatContainer;a&&a.scrollTo({top:a.scrollHeight,behavior:"smooth"})}addUserMessage(a,o=!0){if(!this.elements.messagesList)return;let f=document.createElement("div");f.className="bubble-container user opacity-0 translate-y-4 bubble-user",f.innerHTML=`
            <div class="bg-gradient-to-br from-primary to-primary-dark text-white p-5 rounded-3xl rounded-tr-none shadow-xl max-w-[85%] border border-white/10">
                <p class="text-sm md:text-base font-semibold tracking-tight">${a}</p>
            </div>`,this.elements.messagesList.appendChild(f),o&&(this.chatHistory.push({type:"user",text:a}),this.saveHistory())}addAssistantMessage(a,o,f=!0){if(!this.elements.messagesList)return;this.interactionCount++,f&&(this.chatHistory.push({type:"assistant",text:a,result:o}),this.saveHistory());let g=document.createElement("div");g.className="bubble-container assistant opacity-0 translate-y-4 bubble-assistant";let b=this.generateResponseHTML(a,o);g.innerHTML=`
            <div class="w-11 h-11 rounded-2xl bg-white flex items-center justify-center text-primary shrink-0 shadow-lg border border-gray-100 hidden md:flex">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
            </div>
            <div class="space-y-3 max-w-[92%] md:max-w-[85%]">
                <div class="bg-white/80 backdrop-blur-md p-6 rounded-3xl rounded-tl-none shadow-2xl border border-white/40 text-dark leading-relaxed">
                    ${b}
                </div>
            </div>`,this.elements.messagesList.appendChild(g),this.scrollToBottom()}generateResponseHTML(a,o){let{results:f,confidence:g,answer:b}=o,k="";if(b)k+=`<p class="text-sm md:text-base font-medium mb-4">${this.formatText(b)}</p>`;else if(f.length>0){let M=f[0];k+=`<p class="text-sm md:text-base font-medium mb-4">${this.formatText(M.answer||M.description)}</p>`}if(f.length>0){let M=f.filter(x=>x.category!=="Sapaan").slice(0,3).map((x,_)=>{let T=_===0&&(x.price_numeric||x.sale_price||x.is_recommended),L=x.cta_label||(x.category.includes("Produk")||x.category.includes("Layanan")?"Pesan Sekarang":"Lihat Detail");return`
                <a href="${x.cta_url||x.url}" class="flex flex-col gap-3 p-5 ${T?"bg-primary/5 border-primary/40 shadow-lg ring-1 ring-primary/20":"bg-white/50 border-gray-100"} hover:bg-white hover:scale-[1.02] hover:shadow-2xl rounded-3xl border transition-all group w-full mb-3">
                    <div class="flex items-center justify-between">
                        <div class="flex flex-wrap gap-2">
                            <span class="text-[9px] font-black text-white bg-primary px-2 py-1 rounded-lg uppercase tracking-wider">${x.category}</span>
                            ${x.badge_text?`<span class="text-[9px] font-bold text-white bg-red-500 px-2 py-1 rounded-lg uppercase tracking-wider">${x.badge_text}</span>`:""}
                            ${x.is_recommended?'<span class="text-[9px] font-bold text-white bg-orange-500 px-2 py-1 rounded-lg uppercase tracking-wider animate-pulse">\u2728 Unggulan</span>':""}
                        </div>
                        ${x.price_numeric?`
                            <div class="text-right">
                                ${x.sale_price?`<span class="text-[10px] text-gray-400 line-through block">Rp ${(x.price_numeric/1e6).toFixed(1)}Jt</span>`:""}
                                <span class="text-sm font-extrabold text-primary">Rp ${((x.sale_price||x.price_numeric)/1e6).toFixed(1)}Jt</span>
                            </div>
                        `:""}
                    </div>
                    <h4 class="font-extrabold text-dark text-base leading-tight group-hover:text-primary transition-colors">${x.title}</h4>
                    <p class="text-[12px] text-gray-500 line-clamp-2 leading-relaxed">${x.description}</p>
                    <div class="flex items-center justify-end mt-2 pt-2 border-t border-gray-50">
                        <span class="bg-primary/10 text-primary px-3 py-1.5 rounded-xl text-[10px] font-bold flex items-center gap-1.5 group-hover:bg-primary group-hover:text-white transition-all">
                            ${L}
                            <svg class="w-2.5 h-2.5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path></svg>
                        </span>
                    </div>
                </a>`}).join("");M&&(k+=`<div class="mt-4">${M}</div>`)}else b||(k='<p class="flex items-center gap-2 text-gray-400 italic text-sm"><svg class="w-4 h-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Maaf, saya belum menemukan jawaban yang pas. Silakan hubungi admin kami via WhatsApp.</p>',this.config.whatsappNumber&&setTimeout(()=>{let M=`https://wa.me/${this.config.whatsappNumber}?text=${encodeURIComponent("Halo, saya ingin bertanya tentang: "+a)}`;window.open(M,"_blank")},2e3));return k}formatText(a){return a.replace(/\*\*(.*?)\*\*/g,'<span class="font-bold text-primary">$1</span>')}saveHistory(){localStorage.setItem("assistant_chat_history",JSON.stringify(this.chatHistory))}loadHistory(){let a=localStorage.getItem("assistant_chat_history");if(a)try{this.chatHistory=JSON.parse(a),this.chatHistory.forEach(o=>{o.type==="user"?this.addUserMessage(o.text,!1):o.type==="assistant"&&o.result&&this.addAssistantMessage(o.text,o.result,!1)})}catch(o){console.error("History load error",o)}}};export{_e as AssistantController,ee as AssistantEngine};
